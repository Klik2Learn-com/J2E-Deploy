<!-- 

	*--------------------------*
	|      MENU TEMPLATES      |
	*--------------------------*

-->

<!-- Top of page links on desktop view -->
<template name="TopMenu">
	<ul class="user-links">
		{{>MenuLinks}} {{>MenuAccount}}

	</ul>
</template>



<!-- Mobile menu on normal pages -->
<template name="menu">

	<!-- OLD LEARNING TOOLS -->
	<!-- <div class="titlemenu desktop dropdown hidden-xs">
		<button type="button" data-toggle="dropdown" class="desktop-tools-button" title="Your Learning Tools">
			<i class="icon-tools"></i>
		</button>
		<ul class="dropdown-menu dropdown-menu-right desktop-tools">
			<li class="dropdown-header">Learning tools</li>
			{{>MenuLearningTools}}
		</ul>
	</div> -->
	<!-- /OLD -->

	<div class="titlemenu mobile dropdown visible-xs-inline-block">
		<button type="button" data-toggle="dropdown" class="site-menu-button">
			<i class="fa fa-bars"></i>{{#if newAnnouncements}}<div class="notification announcement"><i class="fa fa-bell"></i></div>{{/if}}
		</button>
		<ul class="dropdown-menu dropdown-menu-right user-menu scrollbar">
			{{>MenuHeader}} {{>MenuLinks}}
			<li class="divider"></li>
			<li class="dropdown-header">Learning tools</li>
			{{>MenuLearningTools}}
			<li class="divider"></li>	
			{{>MenuAccount}}
		</ul>
	</div>

</template>



<!-- Mobile menu with learning tools disabled -->
<template name="menu_assess">

	<!-- OLD LEARNING TOOLS -->
	<!-- <div class="titlemenu desktop hidden-xs">
		<button class="tools-disabled faded2" data-toggle="tooltip" data-placement="left" title="Your learning tools are not available on this page">
			<i class="icon-tools"></i>
		</button>
	</div> -->
	<!-- /OLD -->

	<div class="titlemenu mobile dropdown visible-xs-inline-block">
		<button type="button" data-toggle="dropdown" class="site-menu-button">
			<i class="fa fa-bars"></i>{{#if announcement}}<div class="notification announcement"><i class="fa fa-bell"></i></div>{{/if}}
		</button>
		<ul class="dropdown-menu dropdown-menu-right user-menu scrollbar">
			{{>MenuHeader}} {{>MenuLinks}}
			<li class="dropdown-header faded2">Learning tools</li>
			{{>MenuLearningToolsDis}}
			<li class="divider"></li>

			<li class="dropdown-header">Account</li>
			{{>MenuAccount}}
			<li class="divider"></li>
			{{>FooterLinks}}
		</ul>
	</div>

</template>



<!-- 

	*---------------------------*
	|      MENU COMPONENTS      |
	*---------------------------*

-->

<!-- Mobile Logo -->
<template name="MenuHeader">
	<li class="menu-logo">
		<a draggable="false" href="/">
			<div class="journey-to-english" style="width: 100px; height: 40px; margin-top: 5px;"></div>
		</a>
	</li>
</template>

<!-- Basic links -->
<template name="MenuLinks">
	{{#if currentUser}}
		<li class="main-menu-link announcements">
			{{#if announcement}}
				<a draggable="false" data-toggle="modal" data-target="#moreAnnouncementsModal"><i class="fa fa-bell" title="Announcements"></i> {{#if newAnnouncements}} <div class="notification announcement">{{unreadAnnouncements}}</div> {{/if}} <span class="visible-xs-inline">Announcements</span></a>
			{{else}}
				<a draggable="false" class="faded2-xs noclick-xs" data-toggle="popover" role="button" tabindex="0"  data-trigger="manual" data-placement="bottom" data-html="true" data-content="<span class='no-wrap'>There are no new</span> announcements"><i class="far fa-bell"></i> <span class="visible-xs-inline">Announcements</span></a>
			{{/if}}
		</li><!-- space remover
		--><li><a draggable="false" data-target="home" title="home"><i class="fa fa-home"></i><span> Home</span></a></li>
		{{#if hasCourse}}
			<li><a draggable="false" data-target="userguide"><i class="icon-userguide" title="User guide"></i><span> User Guide</span></a></li>
		{{/if}}
	{{/if}}
	{{> popovers}}
</template>

<!-- Account links -->
<template name="MenuAccount">

	{{#if currentUser}}
		
		{{#if isStudent}}
			{{#if isScormSession}} 
				{{#if hasCourse}}
					<li class="main-menu-link"><a draggable="false" data-target="profile" title="Account"><i class="fa fa-user"></i><span> Account</span></a></li>
				
				{{else}}
					<li class="main-menu-link">
						<s class="faded2" data-toggle="tooltip" title="Your profile will be made once you start a course"><i class="fa fa-user"></i><span> Account</span></s>
					</li>
				{{/if}}
			{{/if}}
		{{/if}}
		{{#if hasGroup}}
			<li class="main-menu-link hidden-xs"><a draggable="false" data-toggle="modal" data-target="#messagesmodal" title="Inbox"><i class="fa fa-envelope"></i><span> Inbox </span>{{#if unreadMessages}}<div class="notification mail">{{unreadMessages}}</div>{{/if}}</a></li>
		{{/if}}
		{{#if isAdmin}}
			<li class="main-menu-link"><a draggable="false" data-target="admin-panel" title="Administrator tasks"><i class="fa icon-user-admin"></i><span> Admin Tasks</span></a></li>
			<li class="main-menu-link"><a draggable="false" href="styleguide" title="Style guide"><i class="fas fa-palette"></i><span> Style guide</span></a></li>
		<!-- {else}}
			{{#if isMod}}
				<li class="main-menu-link"><a draggable="false" data-target="tutor-panel"><i class="fa fa-user"></i> Moderator tools</a></li>
			{{else}}
				{{#if isTutor}}
					<li class="main-menu-link"><a draggable="false" data-target="tutor-panel"><i class="fa fa-graduation-cap"></i> Tutor tools</a></li>
				{{/if}}
			{{/if}} -->
		{{/if}}

		{{#if isScormSession}} 
		<!-- <li class="hidden-xs"><a href="#" draggable="false" class="fa fa-sign-out-alt sign-out">Sign out</a></li> -->
		<li class="main-menu-link"><a href="{{signOutLink}}" draggable="false" class="sign-out" title="Sign out"><i class="fa fa-sign-out-alt"></i><span> Sign out</span></a></li>
		{{/if}}
		
	{{/if}}
</template>



<!-- <template name="MenuAccountLogout">
{{#if currentUser}}
	<li class="main-menu-link"><a><i class="fa fa-sign-out-alt"></i> Log out</a></li>
{{/if}}
</template> -->


<!-- Learning tools sidebar -->
<template name="ToolsSidebar">
	<div class="tools-sidebar shadow">
		<ul>
			{{>MenuLearningTools}}
		</ul>
	</div>
</template>


<!-- Learning tools -->
<template name="MenuLearningTools">
	<li><a draggable="false" href="#" data-toggle="modal" data-target="#notebookmodal"><i class="icon-notebook"></i> Notebook</a></li>

	<li><a draggable="false" href="#" data-toggle="modal" data-target="#dictionarymodal"><i class="icon-dictionary"></i> Dictionary</a></li>

	<li><a draggable="false" href="#" data-toggle="modal" data-target="#grammarmodal"><i class="icon-grammarguide"></i> Grammar Guide</a></li>

	<!-- {{#if isStudent}} -->
	<!-- <li class="hidden-ios"><a draggable="false" href="#" data-toggle="modal" data-target="#voicerecordermodal"><i class="icon-recording"></i> Voice Recorder</a></li>
	<li class="visible-ios faded2"><a draggable="false" href="#" data-toggle="modal" data-target="#voicerecordermodalios"><i class="icon-recording"></i> Unavailable on iOS</a></li> -->
	<!-- {{/if}}
	{{#if isAdmin}} -->

	<li class=""><a draggable="false" href="#" data-toggle="modal" data-target="#voicerecordermodal"><i class="icon-recording"></i> Voice Recorder</a></li>
	<!-- <li class="hidden-ios"><a draggable="false" href="#" data-toggle="modal" data-target="#voicerecordermodal"><i class="icon-recording"></i> Voice Recorder</a></li>
	<li class="visible-ios faded2"><a draggable="false" href="#" data-toggle="modal" data-target="#voicerecordermodalios"><i class="icon-recording"></i> Unavailable on iOS</a></li> -->

	<!-- {{/if}} -->

	{{#if isAdminOrMod}}

		<li><a draggable="false" href="#" data-toggle="modal" data-target="#messagesmodal"><i class="icon-email"></i> Messages {{#if unreadMessages}}<div class="notification mail">{{unreadMessages}}</div>{{/if}}</a></li>

		<li><a draggable="false" href="/forums"><i class="icon-forum"></i> Forums</a></li>

	{{else}}
		{{#if hasGroup}}
			<li><a draggable="false" href="#" data-toggle="modal" data-target="#messagesmodal"><i class="icon-email"></i> Messages {{#if unreadMessages}}<div class="notification mail">{{unreadMessages}}</div>{{/if}}</a></li>

			<li><a draggable="false" href="/forums"><i class="icon-forum"></i> Forums</a></li>
		{{/if}}
	{{/if}}
</template>

<!-- Learning tools disabled -->
<template name="MenuLearningToolsDis">
	<li>
		<s class="faded2" data-toggle="tooltip" title="Your learning tools are not available on this page"><i class="icon-notebook"></i> Notebook</s>
	</li>

	<li>
		<s class="faded2" data-toggle="tooltip" title="Your learning tools are not available on this page"><i class="icon-dictionary"></i> Dictionary</s>
	</li>

	<li>
		<s class="faded2" data-toggle="tooltip" title="Your learning tools are not available on this page"><i class="icon-grammarguide"></i> Grammar Guide</s>
	</li>

	<li>
		<s class="faded2" data-toggle="tooltip" title="Your learning tools are not available on this page"><i class="icon-recording"></i> Voice Recorder</s>
	</li>
	{{#if hasGroup}}
		<li>
			<s class="faded2" data-toggle="tooltip" title="Your learning tools are not available on this page"><i class="icon-email"></i> Messages</s>
		</li>

		<li>
			<s class="faded2" data-toggle="tooltip" title="Your learning tools are not available on this page"><i class="icon-forum"></i> Forums</s>
		</li>
	{{/if}}

</template>